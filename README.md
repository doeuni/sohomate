# SOHOMATE

## ğŸš€ í”„ë¡œì íŠ¸ ì†Œê°œ

â€œì§ì›ì„ ìœ„í•œ, KBë¥¼ ìœ„í•œ ì„œë¹„ìŠ¤â€ 

ì§ì›ë“¤ì˜ ìƒë‹´ ê³¼ì •ì„ AIê°€ ë„ì™€ì£¼ë©°

ì§ì›ì€ ë” ê°€ì¹˜ ìˆëŠ” ìƒë‹´ì— ì§‘ì¤‘í•˜ê³ , ì‚¬ì¥ë‹˜ì€ ë” ë¹ ë¥´ê³  í’ë¶€í•œ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

### âœ¨ ì£¼ìš” ê¸°ëŠ¥

- **FTS5 ì „ë¬¸ê²€ìƒ‰**: SQLite FTS5ë¥¼ í™œìš©í•œ ê³ ì„±ëŠ¥ ê²€ìƒ‰
- **í•œêµ­ì–´ ë™ì˜ì–´ ê²€ìƒ‰**: ì°½ì—…=ì‚¬ì—…ì‹œì‘, ì§€ì›=ë„ì›€ ë“±
- **ê°€ì¤‘ì¹˜ ê¸°ë°˜ ì •ë ¬**: ì œëª©(3) > ì¡°ê±´(2) > í•´ì‹œíƒœê·¸(1)
- **LLM ê¸°ë°˜ ì¬ì •ë ¬**: OpenAIë¥¼ í™œìš©í•œ ì§€ëŠ¥í˜• ë§¤ì¹­

## ğŸ› ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
```

### 2. í™˜ê²½ë³€ìˆ˜ ì„¤ì •

`.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ë‚´ìš©ì„ ì„¤ì •í•˜ì„¸ìš”:

```bash
# OpenAI API ì„¤ì •
OPENAI_API_KEY=your_openai_api_key_here

# ì„œë²„ ì„¤ì •
PORT=3000
NODE_ENV=development
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”

```bash
# í…Œì´ë¸” ìƒì„±
node src/createTables.js

# ë°ì´í„° ë¡œë“œ
node src/loadData.js

# FTS5 ë™ê¸°í™”
node src/finalFTS.js
```

### 4. ì„œë²„ ì‹¤í–‰

```bash
node src/server.js
```

## ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸

### `POST /search (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ìš”ì²­)`

ì •ì±… ê²€ìƒ‰ (FTS5 + LIKE fallback)

**ìš”ì²­ ì˜ˆì‹œ:**

```json
{
  "q": "ì°½ì—…",
  "region": "ì„œìš¸",
  "industry": "IT"
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**

```json
{
  "items": [...],
  "originalQuery": "ì°½ì—…",
  "enhancedQuery": "ì°½ì—… ì°½ì—… ì‚¬ì—…ì‹œì‘ ì‚¬ì—…ê°œì‹œ",
  "searchType": "FTS5+LIKE ê²€ìƒ‰"
}
```

### `POST /match (JSON ë°”ë””ë¡œ ìš”ì²­)`

LLM ê¸°ë°˜ ì¬ì •ë ¬ ë° ì¶”ì²œ ì´ìœ 

**ìš”ì²­ ì˜ˆì‹œ:**

```json
{
  "q": "ì°½ì—… ë§ˆì¼€íŒ…",
  "region": "ì„œìš¸",
  "industry": "IT",
  "userContext": "ì„œìš¸ IT ìŠ¤íƒ€íŠ¸ì—… ì°½ì—… 1ë…„ì°¨, í™ë³´ ë¶€ì¡±ìœ¼ë¡œ ë§¤ì¶œì´ ì •ì²´ë˜ì–´ ìˆì–´ìš”. ìê¸ˆ ì§€ì›ê³¼ ë§ˆì¼€íŒ… ë„ì›€ í•„ìš”í•´ìš”.",
  "topK": 1
}
```

**ì‘ë‹µ ì˜ˆì‹œ:**

```json
{
  "ok": true,
  "count": 3,
  "results" : [...],
  "originalQuery": "ì°½ì—… ë§ˆì¼€íŒ…",
  "searchType": "Recall-first + LLM"
}
```

## ğŸ—ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: Node.js, Express
- **Database**: SQLite + FTS5 (Full-Text Search)
- **AI**: OpenAI GPT API
- **Search Engine**: FTS5 ì „ë¬¸ê²€ìƒ‰ + BM25 ì ìˆ˜

## ğŸ”’ ë³´ì•ˆ

- `.env` íŒŒì¼ì€ `.gitignore`ì— í¬í•¨ë˜ì–´ Gitì— ì—…ë¡œë“œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- ë¯¼ê°í•œ API í‚¤ëŠ” í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬ë©ë‹ˆë‹¤

## ğŸ“ ë¼ì´ì„ ìŠ¤

ISC License
